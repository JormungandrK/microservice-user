{"swagger":"2.0","info":{"title":"The user microservice","description":"A service that provides basic access to the user data","version":"1.0"},"host":"localhost:8080","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/swagger-ui/{filepath}":{"get":{"summary":"Download swagger-ui/dist","operationId":"swagger#/swagger-ui/*filepath","parameters":[{"name":"filepath","in":"path","description":"Relative file path","required":true,"type":"string"}],"responses":{"200":{"description":"File downloaded","schema":{"type":"file"}},"404":{"description":"File not found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/swagger.json":{"get":{"summary":"Download swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http"]}},"/users":{"get":{"tags":["user"],"summary":"getAll user","description":"Retrieves all active users","operationId":"user#getAll","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"limit","in":"query","description":"Limit users per page","required":false,"type":"integer"},{"name":"offset","in":"query","description":"Number of users to skip","required":false,"type":"integer"},{"name":"order","in":"query","description":"Order by","required":false,"type":"string"},{"name":"sorting","in":"query","required":false,"type":"string","enum":["asc","desc"]}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"post":{"tags":["user"],"summary":"create user","description":"Creates user","operationId":"user#create","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"CreateUserPayload","required":true,"schema":{"$ref":"#/definitions/CreateUserPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find":{"post":{"tags":["user"],"summary":"find user","description":"Find a user by email+password","operationId":"user#find","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Email and password credentials","required":true,"schema":{"$ref":"#/definitions/Credentials"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find/email":{"post":{"tags":["user"],"summary":"findByEmail user","description":"Find a user by email","operationId":"user#findByEmail","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/list":{"post":{"tags":["user"],"summary":"findUsers user","description":"Find (filter) users by some filter.","operationId":"user#findUsers","produces":["application/mt.ckan.users-page+json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/FilterPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UsersPage"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/me":{"get":{"tags":["user"],"summary":"getMe user","description":"Retrieves the user information for the authenticated user","operationId":"user#getMe","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/password/forgot":{"put":{"tags":["user"],"summary":"forgotPasswordUpdate user","description":"Password token validation \u0026 password update","operationId":"user#forgotPasswordUpdate","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"payload","in":"body","description":"Password Reset payload","required":true,"schema":{"$ref":"#/definitions/ForgotPasswordPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"post":{"tags":["user"],"summary":"forgotPassword user","description":"Forgot password action (sending email to user with link for resseting password)","operationId":"user#forgotPassword","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/verification/reset":{"post":{"tags":["user"],"summary":"resetVerificationToken user","description":"Reset verification token","operationId":"user#resetVerificationToken","produces":["application/vnd.goa.error","resettokenmedia"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"Verification token reset","schema":{"$ref":"#/definitions/ResetToken"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/verify":{"get":{"tags":["user"],"summary":"verify user","description":"Verify a user by token","operationId":"user#verify","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"token","in":"query","description":"Token","required":false,"type":"string"}],"responses":{"200":{"description":"User is verified"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/{userId}":{"get":{"tags":["user"],"summary":"get user","description":"Get user by id","operationId":"user#get","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"put":{"tags":["user"],"summary":"update user","description":"Update user","operationId":"user#update","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"UpdateUserPayload","required":true,"schema":{"$ref":"#/definitions/UpdateUserPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}}},"definitions":{"CreateUserPayload":{"title":"CreateUserPayload","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":true},"email":{"type":"string","description":"Email of user","example":"myles_lemke@gaylord.name","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Tenetur animi a sunt deserunt tempora quam."},"namespaces":{"type":"array","items":{"type":"string","example":"Amet occaecati."},"description":"List of namespaces this user belongs to","example":["Amet occaecati.","Amet occaecati."]},"organizations":{"type":"array","items":{"type":"string","example":"Et deleniti quis et consequuntur officiis."},"description":"List of organizations to which this user belongs to","example":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."]},"password":{"type":"string","description":"Password of user","example":"34i2en7cd7","minLength":6,"maxLength":30},"roles":{"type":"array","items":{"type":"string","example":"Nam velit incidunt sunt sed provident."},"description":"Roles of user","example":["Nam velit incidunt sunt sed provident."]},"token":{"type":"string","description":"Token for email verification","example":"Et omnis neque consequatur."}},"description":"CreateUserPayload","example":{"active":true,"email":"myles_lemke@gaylord.name","externalId":"Tenetur animi a sunt deserunt tempora quam.","namespaces":["Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"password":"34i2en7cd7","roles":["Nam velit incidunt sunt sed provident."],"token":"Et omnis neque consequatur."},"required":["email"]},"Credentials":{"title":"Credentials","type":"object","properties":{"email":{"type":"string","description":"Email of user","example":"alva@grahamklein.org","format":"email"},"password":{"type":"string","description":"Password of user","example":"kzsr2yeiek","minLength":6,"maxLength":30}},"description":"Email and password credentials","example":{"email":"alva@grahamklein.org","password":"kzsr2yeiek"},"required":["email","password"]},"EmailPayload":{"title":"EmailPayload","type":"object","properties":{"email":{"type":"string","description":"Email of user","example":"janie@gaylord.info","format":"email"}},"description":"Email payload","example":{"email":"janie@gaylord.info"},"required":["email"]},"FilterPayload":{"title":"FilterPayload","type":"object","properties":{"filter":{"type":"array","items":{"$ref":"#/definitions/FilterProperty"},"description":"Users filter.","example":[{"property":"Soluta omnis et pariatur consequatur accusantium occaecati.","value":"Harum ipsam impedit vitae sed."}]},"page":{"type":"integer","description":"Page number (1-based).","example":2650884019839767564,"format":"int64"},"pageSize":{"type":"integer","description":"Items per page.","example":4871160491463818035,"format":"int64"},"sort":{"$ref":"#/definitions/OrderSpec"}},"example":{"filter":[{"property":"Soluta omnis et pariatur consequatur accusantium occaecati.","value":"Harum ipsam impedit vitae sed."}],"page":2650884019839767564,"pageSize":4871160491463818035,"sort":{"direction":"Ut ipsam corrupti suscipit aliquid explicabo.","property":"Et maxime explicabo natus."}},"required":["page","pageSize"]},"FilterProperty":{"title":"FilterProperty","type":"object","properties":{"property":{"type":"string","description":"Property name","example":"Soluta omnis et pariatur consequatur accusantium occaecati."},"value":{"type":"string","description":"Property value to match","example":"Harum ipsam impedit vitae sed."}},"example":{"property":"Soluta omnis et pariatur consequatur accusantium occaecati.","value":"Harum ipsam impedit vitae sed."},"required":["property","value"]},"ForgotPasswordPayload":{"title":"ForgotPasswordPayload","type":"object","properties":{"email":{"type":"string","description":"Email of the user","example":"caleb@pagac.org","format":"email"},"password":{"type":"string","description":"New password","example":"mdm045mvqp","minLength":6,"maxLength":30},"token":{"type":"string","description":"Forgot password token","example":"Aut dignissimos dolorem quibusdam."}},"description":"Password Reset payload","example":{"email":"caleb@pagac.org","password":"mdm045mvqp","token":"Aut dignissimos dolorem quibusdam."},"required":["email","password","token"]},"OrderSpec":{"title":"OrderSpec","type":"object","properties":{"direction":{"type":"string","description":"Sort order. Can be 'asc' or 'desc'.","example":"Ut ipsam corrupti suscipit aliquid explicabo."},"property":{"type":"string","description":"Sort by property","example":"Et maxime explicabo natus."}},"example":{"direction":"Ut ipsam corrupti suscipit aliquid explicabo.","property":"Et maxime explicabo natus."},"required":["property","direction"]},"ResetToken":{"title":"Mediatype identifier: resettokenmedia; view=default","type":"object","properties":{"email":{"type":"string","description":"User email","example":"Molestias maxime rem."},"id":{"type":"string","description":"User ID","example":"Consequatur earum aut."},"token":{"type":"string","description":"New token","example":"Harum impedit enim commodi neque voluptatem reprehenderit."}},"description":"ResetToken media type (default view)","example":{"email":"Molestias maxime rem.","id":"Consequatur earum aut.","token":"Harum impedit enim commodi neque voluptatem reprehenderit."},"required":["id","email","token"]},"UpdateUserPayload":{"title":"UpdateUserPayload","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":false},"email":{"type":"string","description":"Email of user","example":"marques@spinka.org","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Voluptas eveniet sunt nemo qui nam."},"namespaces":{"type":"array","items":{"type":"string","example":"Voluptas sunt voluptatem doloremque id."},"description":"List of namespaces this user belongs to","example":["Voluptas sunt voluptatem doloremque id.","Voluptas sunt voluptatem doloremque id.","Voluptas sunt voluptatem doloremque id."]},"organizations":{"type":"array","items":{"type":"string","example":"Facere vel."},"description":"List of organizations to which this user belongs to","example":["Facere vel.","Facere vel.","Facere vel."]},"password":{"type":"string","description":"Password of user","example":"y9m9wo4go9","minLength":6,"maxLength":30},"roles":{"type":"array","items":{"type":"string","example":"Labore facere quasi et perspiciatis."},"description":"Roles of user","example":["Labore facere quasi et perspiciatis."]},"token":{"type":"string","description":"Token for email verification","example":"Nihil libero."}},"description":"UpdateUserPayload","example":{"active":false,"email":"marques@spinka.org","externalId":"Voluptas eveniet sunt nemo qui nam.","namespaces":["Voluptas sunt voluptatem doloremque id.","Voluptas sunt voluptatem doloremque id.","Voluptas sunt voluptatem doloremque id."],"organizations":["Facere vel.","Facere vel.","Facere vel."],"password":"y9m9wo4go9","roles":["Labore facere quasi et perspiciatis."],"token":"Nihil libero."}},"UsersPage":{"title":"Mediatype identifier: application/mt.ckan.users-page+json; view=default","type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/definitions/users"},"description":"Users list","example":[{"active":false,"email":"maximillia.funk@skiles.name","externalId":"Occaecati quae odio rerum aliquid in sit.","id":"Ea quam optio placeat reprehenderit similique.","namespaces":["Amet occaecati.","Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"roles":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]},{"active":false,"email":"maximillia.funk@skiles.name","externalId":"Occaecati quae odio rerum aliquid in sit.","id":"Ea quam optio placeat reprehenderit similique.","namespaces":["Amet occaecati.","Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"roles":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]}]},"page":{"type":"integer","description":"Page number (1-based).","example":8637512787445997841,"format":"int64"},"pageSize":{"type":"integer","description":"Items per page.","example":1216021488875908955,"format":"int64"}},"description":"UsersPage media type (default view)","example":{"items":[{"active":false,"email":"maximillia.funk@skiles.name","externalId":"Occaecati quae odio rerum aliquid in sit.","id":"Ea quam optio placeat reprehenderit similique.","namespaces":["Amet occaecati.","Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"roles":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]},{"active":false,"email":"maximillia.funk@skiles.name","externalId":"Occaecati quae odio rerum aliquid in sit.","id":"Ea quam optio placeat reprehenderit similique.","namespaces":["Amet occaecati.","Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"roles":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]}],"page":8637512787445997841,"pageSize":1216021488875908955}},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}},"users":{"title":"Mediatype identifier: application/vnd.goa.user+json; view=default","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":false},"email":{"type":"string","description":"Email of user","example":"maximillia.funk@skiles.name","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Occaecati quae odio rerum aliquid in sit."},"id":{"type":"string","description":"Unique user ID","example":"Ea quam optio placeat reprehenderit similique."},"namespaces":{"type":"array","items":{"type":"string","example":"Amet occaecati."},"description":"List of namespaces this user belongs to","example":["Amet occaecati.","Amet occaecati.","Amet occaecati."]},"organizations":{"type":"array","items":{"type":"string","example":"Et deleniti quis et consequuntur officiis."},"description":"List of organizations to which this user belongs to","example":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."]},"roles":{"type":"array","items":{"type":"string","example":"Nam velit incidunt sunt sed provident."},"description":"Roles of user","example":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]}},"description":"users media type (default view)","example":{"active":false,"email":"maximillia.funk@skiles.name","externalId":"Occaecati quae odio rerum aliquid in sit.","id":"Ea quam optio placeat reprehenderit similique.","namespaces":["Amet occaecati.","Amet occaecati.","Amet occaecati."],"organizations":["Et deleniti quis et consequuntur officiis.","Et deleniti quis et consequuntur officiis."],"roles":["Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident.","Nam velit incidunt sunt sed provident."]},"required":["id","email","roles","externalId","active"]}},"responses":{"OK":{"description":"OK"}}}