{"swagger":"2.0","info":{"title":"The user microservice","description":"A service that provides basic access to the user data","version":"1.0"},"host":"localhost:8080","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/swagger-ui/{filepath}":{"get":{"summary":"Download swagger-ui/dist","operationId":"swagger#/swagger-ui/*filepath","parameters":[{"name":"filepath","in":"path","description":"Relative file path","required":true,"type":"string"}],"responses":{"200":{"description":"File downloaded","schema":{"type":"file"}},"404":{"description":"File not found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/swagger.json":{"get":{"summary":"Download swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http"]}},"/users":{"get":{"tags":["user"],"summary":"getAll user","description":"Retrieves all active users","operationId":"user#getAll","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"limit","in":"query","description":"Limit users per page","required":false,"type":"integer"},{"name":"offset","in":"query","description":"Number of users to skip","required":false,"type":"integer"},{"name":"order","in":"query","description":"Order by","required":false,"type":"string"},{"name":"sorting","in":"query","required":false,"type":"string","enum":["asc","desc"]}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"post":{"tags":["user"],"summary":"create user","description":"Creates user","operationId":"user#create","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"CreateUserPayload","required":true,"schema":{"$ref":"#/definitions/CreateUserPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find":{"post":{"tags":["user"],"summary":"find user","description":"Find a user by email+password","operationId":"user#find","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Email and password credentials","required":true,"schema":{"$ref":"#/definitions/Credentials"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find/email":{"post":{"tags":["user"],"summary":"findByEmail user","description":"Find a user by email","operationId":"user#findByEmail","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/me":{"get":{"tags":["user"],"summary":"getMe user","description":"Retrieves the user information for the authenticated user","operationId":"user#getMe","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/password/forgot":{"put":{"tags":["user"],"summary":"forgotPasswordUpdate user","description":"Password token validation \u0026 password update","operationId":"user#forgotPasswordUpdate","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"payload","in":"body","description":"Password Reset payload","required":true,"schema":{"$ref":"#/definitions/ForgotPasswordPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"post":{"tags":["user"],"summary":"forgotPassword user","description":"Forgot password action (sending email to user with link for resseting password)","operationId":"user#forgotPassword","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/verification/reset":{"post":{"tags":["user"],"summary":"resetVerificationToken user","description":"Reset verification token","operationId":"user#resetVerificationToken","produces":["application/vnd.goa.error","resettokenmedia"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"Verification token reset","schema":{"$ref":"#/definitions/ResetToken"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/verify":{"get":{"tags":["user"],"summary":"verify user","description":"Verify a user by token","operationId":"user#verify","produces":["application/vnd.goa.error","text/plain"],"parameters":[{"name":"token","in":"query","description":"Token","required":false,"type":"string"}],"responses":{"200":{"description":"User is verified"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/{userId}":{"get":{"tags":["user"],"summary":"get user","description":"Get user by id","operationId":"user#get","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"put":{"tags":["user"],"summary":"update user","description":"Update user","operationId":"user#update","produces":["application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"UpdateUserPayload","required":true,"schema":{"$ref":"#/definitions/UpdateUserPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}}},"definitions":{"CreateUserPayload":{"title":"CreateUserPayload","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":true},"email":{"type":"string","description":"Email of user","example":"vinnie.d'amore@kessler.net","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Voluptatum debitis iusto et."},"namespaces":{"type":"array","items":{"type":"string","example":"Quo quo amet occaecati ut."},"description":"List of namespaces this user belongs to","example":["Quo quo amet occaecati ut.","Quo quo amet occaecati ut.","Quo quo amet occaecati ut."]},"organizations":{"type":"array","items":{"type":"string","example":"Deleniti quis et."},"description":"List of organizations to which this user belongs to","example":["Deleniti quis et."]},"password":{"type":"string","description":"Password of user","example":"789xuu49q","minLength":6,"maxLength":30},"roles":{"type":"array","items":{"type":"string","example":"Velit quaerat nam velit incidunt sunt."},"description":"Roles of user","example":["Velit quaerat nam velit incidunt sunt."]},"token":{"type":"string","description":"Token for email verification","example":"Reprehenderit quisquam maxime."}},"description":"CreateUserPayload","example":{"active":true,"email":"vinnie.d'amore@kessler.net","externalId":"Voluptatum debitis iusto et.","namespaces":["Quo quo amet occaecati ut.","Quo quo amet occaecati ut.","Quo quo amet occaecati ut."],"organizations":["Deleniti quis et."],"password":"789xuu49q","roles":["Velit quaerat nam velit incidunt sunt."],"token":"Reprehenderit quisquam maxime."},"required":["email"]},"Credentials":{"title":"Credentials","type":"object","properties":{"email":{"type":"string","description":"Email of user","example":"myles@mooreschneider.name","format":"email"},"password":{"type":"string","description":"Password of user","example":"vhhtvx6y8","minLength":6,"maxLength":30}},"description":"Email and password credentials","example":{"email":"myles@mooreschneider.name","password":"vhhtvx6y8"},"required":["email","password"]},"EmailPayload":{"title":"EmailPayload","type":"object","properties":{"email":{"type":"string","description":"Email of user","example":"marianna_hartmann@oreillylebsack.org","format":"email"}},"description":"Email payload","example":{"email":"marianna_hartmann@oreillylebsack.org"},"required":["email"]},"ForgotPasswordPayload":{"title":"ForgotPasswordPayload","type":"object","properties":{"email":{"type":"string","description":"Email of the user","example":"delaney@ziemeruecker.com","format":"email"},"password":{"type":"string","description":"New password","example":"vmrl0fmhxw","minLength":6,"maxLength":30},"token":{"type":"string","description":"Forgot password token","example":"Quidem corrupti reprehenderit sit aut molestiae."}},"description":"Password Reset payload","example":{"email":"delaney@ziemeruecker.com","password":"vmrl0fmhxw","token":"Quidem corrupti reprehenderit sit aut molestiae."},"required":["email","password","token"]},"ResetToken":{"title":"Mediatype identifier: resettokenmedia; view=default","type":"object","properties":{"email":{"type":"string","description":"User email","example":"Provident fugit corrupti dignissimos nisi voluptatum."},"id":{"type":"string","description":"User ID","example":"Mollitia sint."},"token":{"type":"string","description":"New token","example":"Officia ipsum voluptatem."}},"description":"ResetToken media type (default view)","example":{"email":"Provident fugit corrupti dignissimos nisi voluptatum.","id":"Mollitia sint.","token":"Officia ipsum voluptatem."},"required":["id","email","token"]},"UpdateUserPayload":{"title":"UpdateUserPayload","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":false},"email":{"type":"string","description":"Email of user","example":"isaac@mclaughlin.net","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Eveniet doloribus minus laudantium rerum soluta unde."},"namespaces":{"type":"array","items":{"type":"string","example":"Assumenda ut quam in dolorem."},"description":"List of namespaces this user belongs to","example":["Assumenda ut quam in dolorem."]},"organizations":{"type":"array","items":{"type":"string","example":"Voluptatum rem eos voluptatibus."},"description":"List of organizations to which this user belongs to","example":["Voluptatum rem eos voluptatibus.","Voluptatum rem eos voluptatibus."]},"password":{"type":"string","description":"Password of user","example":"2s23h8wwm4","minLength":6,"maxLength":30},"roles":{"type":"array","items":{"type":"string","example":"Autem sit sit inventore neque qui."},"description":"Roles of user","example":["Autem sit sit inventore neque qui.","Autem sit sit inventore neque qui.","Autem sit sit inventore neque qui."]},"token":{"type":"string","description":"Token for email verification","example":"Voluptas cumque."}},"description":"UpdateUserPayload","example":{"active":false,"email":"isaac@mclaughlin.net","externalId":"Eveniet doloribus minus laudantium rerum soluta unde.","namespaces":["Assumenda ut quam in dolorem."],"organizations":["Voluptatum rem eos voluptatibus.","Voluptatum rem eos voluptatibus."],"password":"2s23h8wwm4","roles":["Autem sit sit inventore neque qui.","Autem sit sit inventore neque qui.","Autem sit sit inventore neque qui."],"token":"Voluptas cumque."}},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}},"users":{"title":"Mediatype identifier: application/vnd.goa.user+json; view=default","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":true},"email":{"type":"string","description":"Email of user","example":"thad@herman.name","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Ullam occaecati quae odio rerum aliquid in."},"id":{"type":"string","description":"Unique user ID","example":"Reprehenderit ea quam optio placeat."},"namespaces":{"type":"array","items":{"type":"string","example":"Quo quo amet occaecati ut."},"description":"List of namespaces this user belongs to","example":["Quo quo amet occaecati ut.","Quo quo amet occaecati ut.","Quo quo amet occaecati ut."]},"organizations":{"type":"array","items":{"type":"string","example":"Deleniti quis et."},"description":"List of organizations to which this user belongs to","example":["Deleniti quis et.","Deleniti quis et."]},"roles":{"type":"array","items":{"type":"string","example":"Velit quaerat nam velit incidunt sunt."},"description":"Roles of user","example":["Velit quaerat nam velit incidunt sunt.","Velit quaerat nam velit incidunt sunt.","Velit quaerat nam velit incidunt sunt."]}},"description":"users media type (default view)","example":{"active":true,"email":"thad@herman.name","externalId":"Ullam occaecati quae odio rerum aliquid in.","id":"Reprehenderit ea quam optio placeat.","namespaces":["Quo quo amet occaecati ut.","Quo quo amet occaecati ut.","Quo quo amet occaecati ut."],"organizations":["Deleniti quis et.","Deleniti quis et."],"roles":["Velit quaerat nam velit incidunt sunt.","Velit quaerat nam velit incidunt sunt.","Velit quaerat nam velit incidunt sunt."]},"required":["id","email","roles","externalId","active"]}},"responses":{"OK":{"description":"OK"}}}