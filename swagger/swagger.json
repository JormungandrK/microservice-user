{"swagger":"2.0","info":{"title":"The user microservice","description":"A service that provides basic access to the user data","version":"1.0"},"host":"localhost:8080","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/oauth2/authorize":{"get":{"tags":["oauth2_provider"],"summary":"authorize oauth2_provider","description":"Authorize OAuth2 client","operationId":"oauth2_provider#authorize","produces":["application/vnd.goa.example.oauth2.error+json"],"parameters":[{"name":"client_id","in":"query","description":"The client identifier","required":true,"type":"string"},{"name":"redirect_uri","in":"query","description":"Redirection endpoint","required":false,"type":"string"},{"name":"response_type","in":"query","description":"Value MUST be set to \"code\"","required":true,"type":"string","enum":["code"]},{"name":"scope","in":"query","description":"The scope of the access request","required":false,"type":"string"},{"name":"state","in":"query","description":"An opaque value used by the client to maintain state between the request and callback","required":false,"type":"string"}],"responses":{"302":{"description":"Found","headers":{"Location":{"description":"Redirect URL containing the authorization code and state param if any","type":"string"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/OAuth2ErrorMedia"}}},"schemes":["http"]}},"/oauth2/token":{"post":{"tags":["oauth2_provider"],"summary":"get_token oauth2_provider","description":"Get access token from authorization code or refresh token","operationId":"oauth2_provider#get_token","produces":["application/vnd.goa.example.oauth2.error+json","application/vnd.goa.example.oauth2.token+json"],"parameters":[{"name":"payload","in":"body","description":"Payload sent by client to obtain refresh and access token or to refresh an access token.\nsee https://tools.ietf.org/html/rfc6749#section-4.1.3 and https://tools.ietf.org/html/rfc6749#section-6","required":true,"schema":{"$ref":"#/definitions/TokenPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TokenMedia"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/OAuth2ErrorMedia"}}},"schemes":["http"],"security":[{"oauth2_client_basic_auth":[]}]}},"/swagger-ui/{filepath}":{"get":{"summary":"Download swagger-ui/dist","operationId":"swagger#/swagger-ui/*filepath","parameters":[{"name":"filepath","in":"path","description":"Relative file path","required":true,"type":"string"}],"responses":{"200":{"description":"File downloaded","schema":{"type":"file"}},"404":{"description":"File not found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/swagger.json":{"get":{"summary":"Download swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http"]}},"/users":{"post":{"tags":["user"],"summary":"create user","description":"Creates user","operationId":"user#create","produces":["application/vnd.goa.error","application/vnd.goa.user+json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","description":"UserPayload","required":true,"schema":{"$ref":"#/definitions/UserPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find":{"post":{"tags":["user"],"summary":"find user","description":"Find a user by username+password","operationId":"user#find","produces":["application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Username and password credentials","required":true,"schema":{"$ref":"#/definitions/Credentials"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/find/email":{"post":{"tags":["user"],"summary":"findByEmail user","description":"Find a user by email","operationId":"user#findByEmail","produces":["application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"payload","in":"body","description":"Email payload","required":true,"schema":{"$ref":"#/definitions/EmailPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/me":{"get":{"tags":["user"],"summary":"getMe user","description":"Retrieves the user information for the authenticated user","operationId":"user#getMe","produces":["application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.user+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/users/{userId}":{"get":{"tags":["user"],"summary":"get user","description":"Get user by id","operationId":"user#get","produces":["application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"put":{"tags":["user"],"summary":"update user","description":"Update user","operationId":"user#update","produces":["application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.error","application/vnd.goa.user+json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"UserPayload","required":true,"schema":{"$ref":"#/definitions/UserPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/users"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}}},"definitions":{"Credentials":{"title":"Credentials","type":"object","properties":{"password":{"type":"string","description":"Password of user","example":"45mlyz","minLength":6,"maxLength":30},"username":{"type":"string","description":"Name of user","example":"YWZpQ","pattern":"^([a-zA-Z0-9@]{4,30})$"}},"description":"Username and password credentials","example":{"password":"45mlyz","username":"YWZpQ"},"required":["username","password"]},"EmailPayload":{"title":"EmailPayload","type":"object","properties":{"email":{"type":"string","description":"Email of user","example":"solon@reicherttreutel.org","format":"email"}},"description":"Email payload","example":{"email":"solon@reicherttreutel.org"},"required":["email"]},"OAuth2ErrorMedia":{"title":"Mediatype identifier: application/vnd.goa.example.oauth2.error+json; view=default","type":"object","properties":{"error":{"type":"string","description":"Error returned by authorization server","example":"invalid_grant","enum":["invalid_request","invalid_client","invalid_grant","unauthorized_client","unsupported_grant_type"]},"error_description":{"type":"string","description":"Human readable ASCII text providing additional information","example":"In laudantium quibusdam molestias inventore."},"error_uri":{"type":"string","description":"A URI identifying a human-readable web page with information about the error","example":"Et et est qui eaque in corporis."}},"description":"OAuth2 error response, see https://tools.ietf.org/html/rfc6749#section-5.2 (default view)","example":{"error":"invalid_grant","error_description":"In laudantium quibusdam molestias inventore.","error_uri":"Et et est qui eaque in corporis."},"required":["error"]},"TokenMedia":{"title":"Mediatype identifier: application/vnd.goa.example.oauth2.token+json; view=default","type":"object","properties":{"access_token":{"type":"string","description":"The access token issued by the authorization server","example":"Eos magnam fugit."},"expires_in":{"type":"integer","description":"The lifetime in seconds of the access token","example":9096470869384535735,"format":"int64"},"refresh_token":{"type":"string","description":"The refresh token","example":"Aliquid ex."},"scope":{"type":"string","description":"The scope of the access token","example":"Minima ea atque pariatur."},"token_type":{"type":"string","description":"The type of the token issued, e.g. \"bearer\" or \"mac\"","example":"Sit culpa perspiciatis rerum laboriosam et."}},"description":"OAuth2 access token request successful response, see https://tools.ietf.org/html/rfc6749#section-5.1 (default view)","example":{"access_token":"Eos magnam fugit.","expires_in":9096470869384535735,"refresh_token":"Aliquid ex.","scope":"Minima ea atque pariatur.","token_type":"Sit culpa perspiciatis rerum laboriosam et."},"required":["access_token","token_type"]},"TokenPayload":{"title":"TokenPayload","type":"object","properties":{"code":{"type":"string","description":"The authorization code received from the authorization server, used for initial refresh and access token request","example":"Voluptatibus at consequatur."},"grant_type":{"type":"string","description":"Value MUST be set to \"authorization_code\" when obtaining initial refresh and access token.\nValue MUST be set to \"refresh_token\" when refreshing an access token.","example":"refresh_token","enum":["authorization_code","refresh_token"]},"redirect_uri":{"type":"string","description":"The redirect_uri parameter specified when making the authorize request to obtain the authorization code, used for initial refresh and access token request","example":"Optio repudiandae eaque quia cupiditate."},"refresh_token":{"type":"string","description":"The refresh token issued to the client, used for refreshing an access token","example":"Quibusdam accusantium."},"scope":{"type":"string","description":"The scope of the access request, used for refreshing an access token","example":"Nostrum consequatur."}},"description":"Payload sent by client to obtain refresh and access token or to refresh an access token.\nsee https://tools.ietf.org/html/rfc6749#section-4.1.3 and https://tools.ietf.org/html/rfc6749#section-6","example":{"code":"Voluptatibus at consequatur.","grant_type":"refresh_token","redirect_uri":"Optio repudiandae eaque quia cupiditate.","refresh_token":"Quibusdam accusantium.","scope":"Nostrum consequatur."},"required":["grant_type"]},"UserPayload":{"title":"UserPayload","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":false},"email":{"type":"string","description":"Email of user","example":"claude_mcglynn@kuhlman.net","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Officiis assumenda asperiores similique voluptas."},"password":{"type":"string","description":"Password of user","example":"d4xhlrtxfh","minLength":6,"maxLength":30},"roles":{"type":"array","items":{"type":"string","example":"Ipsum voluptatem est debitis quis et et."},"description":"Roles of user","example":["Ipsum voluptatem est debitis quis et et."]},"username":{"type":"string","description":"Name of user","example":"3fj228pe","minLength":4,"maxLength":50}},"description":"UserPayload","example":{"active":false,"email":"claude_mcglynn@kuhlman.net","externalId":"Officiis assumenda asperiores similique voluptas.","password":"d4xhlrtxfh","roles":["Ipsum voluptatem est debitis quis et et."],"username":"3fj228pe"},"required":["username","email","roles"]},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}},"users":{"title":"Mediatype identifier: application/vnd.goa.user+json; view=default","type":"object","properties":{"active":{"type":"boolean","description":"Status of user account","default":false,"example":false},"email":{"type":"string","description":"Email of user","example":"fredy.kuphal@beier.info","format":"email"},"externalId":{"type":"string","description":"External id of user","example":"Provident fugit corrupti dignissimos nisi voluptatum."},"id":{"type":"string","description":"Unique user ID","example":"Mollitia sint."},"roles":{"type":"array","items":{"type":"string","example":"Ipsum voluptatem est debitis quis et et."},"description":"Roles of user","example":["Ipsum voluptatem est debitis quis et et.","Ipsum voluptatem est debitis quis et et."]},"username":{"type":"string","description":"Name of user","example":"01rdii1sqx","minLength":4,"maxLength":50}},"description":"users media type (default view)","example":{"active":false,"email":"fredy.kuphal@beier.info","externalId":"Provident fugit corrupti dignissimos nisi voluptatum.","id":"Mollitia sint.","roles":["Ipsum voluptatem est debitis quis et et.","Ipsum voluptatem est debitis quis et et."],"username":"01rdii1sqx"},"required":["id","username","email","roles","externalId","active"]}},"responses":{"NotFound":{"description":"Not Found"},"OK":{"description":"OK","schema":{"$ref":"#/definitions/users"}}},"securityDefinitions":{"OAuth2":{"type":"oauth2","flow":"accessCode","authorizationUrl":"http://localhost:8080/oauth2/authorize","tokenUrl":"http://localhost:8080/oauth2/token","scopes":{"api:read":"no description","api:write":"no description"}},"jwt":{"type":"apiKey","description":"\n\n**Security Scopes**:\n  * `api:read`: Read API resource\n  * `api:write`: Write API resource","name":"Authorization","in":"header"},"oauth2_client_basic_auth":{"type":"basic","description":"Basic auth used by client to make the requests needed to retrieve and refresh access tokens"}}}